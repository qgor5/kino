// Мобильное меню
const hamburger = document.querySelector('.hamburger');
const navMenu = document.querySelector('.nav-menu');

hamburger.addEventListener('click', () => {
    hamburger.classList.toggle('active');
    navMenu.classList.toggle('active');
});

document.querySelectorAll('.nav-link').forEach(link => {
    link.addEventListener('click', () => {
        hamburger.classList.remove('active');
        navMenu.classList.remove('active');
    });
});

// Плавная прокрутка
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
            target.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
    });
});

// Данные для фильмов
const movies = [
    {
        title: "Интерстеллар",
        description: "Эпическая научно-фантастическая драма о путешествии через пространство и время",
        rating: 8.6,
        image: "https://via.placeholder.com/300x200/2c3e50/ffffff?text=Интерстеллар"
    },
    {
        title: "Начало",
        description: "Фантастический триллер о кражах идей через сны",
        rating: 8.8,
        image: "https://via.placeholder.com/300x200/34495e/ffffff?text=Начало"
    },
    {
        title: "Матрица",
        description: "Культовый фильм о виртуальной реальности и борьбе за свободу",
        rating: 8.7,
        image: "https://via.placeholder.com/300x200/2c3e50/ffffff?text=Матрица"
    }
];

// Данные для блога
const blogPosts = [
    {
        title: "Топ 10 фильмов 2024 года",
        excerpt: "Подборка лучших фильмов этого года по мнению наших экспертов...",
        date: "19 июля 2024",
        image: "https://via.placeholder.com/300x200/e74c3c/ffffff?text=Топ+10"
    },
    {
        title: "Как кино меняет мир",
        excerpt: "Исследуем влияние кино на общество и культуру...",
        date: "18 июля 2024",
        image: "https://via.placeholder.com/300x200/3498db/ffffff?text=Влияние+кино"
    },
    {
        title: "Секреты создания спецэффектов",
        excerpt: "За кулисами голливудских блокбастеров: как создаются визуальные эффекты...",
        date: "17 июля 2024",
        image: "https://via.placeholder.com/300x200/2ecc71/ffffff?text=Спецэффекты"
    }
];

// Загрузка фильмов
function loadMovies() {
    const moviesGrid = document.getElementById('moviesGrid');
    moviesGrid.innerHTML = movies.map(movie => `
        <div class="movie-card">
            <img src="${movie.image}" alt="${movie.title}">
            <div class="movie-info">
                <h3>${movie.title}</h3>
                <p>${movie.description}</p>
                <div class="rating">⭐ ${movie.rating}/10</div>
            </div>
        </div>
    `).join('');
}

// Загрузка постов блога
function loadBlogPosts() {
    const blogGrid = document.getElementById('blogGrid');
    blogGrid.innerHTML = blogPosts.map(post => `
        <div class="blog-card">
            <img src="${post.image}" alt="${post.title}">
            <div class="blog-info">
                <h3>${post.title}</h3>
                <p>${post.excerpt}</p>
                <small>${post.date}</small>
            </div>
        </div>
    `).join('');
}

// Обработка формы
document.getElementById('contactForm').addEventListener('submit', function(e) {
    e.preventDefault();
    alert('Спасибо за ваше сообщение! Мы свяжемся с вами в ближайшее время.');
    this.reset();
});

// Функция для прокрутки к фильмам
function scrollToMovies() {
    document.getElementById('movies').scrollIntoView({ behavior: 'smooth' });
}

// Автообновление контента каждые 30 секунд
function autoUpdateContent() {
    // Здесь можно добавить загрузку новых данных с сервера
    console.log('Контент обновлен в ' + new Date().toLocaleTimeString());
}

// Инициализация
document.addEventListener('DOMContentLoaded', () => {
    loadMovies();
    loadBlogPosts();
    
    // Запуск автообновления
    setInterval(autoUpdateContent, 30000);
});

// Прокрутка наверх
window.addEventListener('scroll', () => {
    if (window.scrollY > 500) {
        if (!document.querySelector('.scroll-to-top')) {
            const scrollBtn = document.createElement('button');
            scrollBtn.innerHTML = '↑';
            scrollBtn.className = 'scroll-to-top';
            scrollBtn.style.cssText = 'position: fixed; bottom: 20px; right: 20px; background: #ff6b6b; color: white; border: none; padding: 15px; border-radius: 50%; cursor: pointer; font-size: 1.5rem; z-index: 1000;';
            scrollBtn.onclick = () => window.scrollTo({ top: 0, behavior: 'smooth' });
            document.body.appendChild(scrollBtn);
        }
    } else {
        const scrollBtn = document.querySelector('.scroll-to-top');
        if (scrollBtn) scrollBtn.remove();
    }
});
